<template name="rewards">
  <button type="button" class="btn btn-complete btn-animated from-left fa fa-plus pull-right m-t-20 m-r-30"
    id="add-reward-btn">
    <span class="bold">{{_ "Add Reward"}}</span>
  </button>
  <div class="clearfix"></div>
  <hr>
  <table class="table table-hover">
    <thead>
      <tr>
        <th>{{_ "Name"}}</th>
        <th>{{_ "Created"}}</th>
        <th>{{_ "Valid till"}}</th>
        <th>{{_ "Claim Count"}}</th>
        <th>{{_ "Publish status"}}</th>
        <th>{{_ "Actions"}}</th>
      </tr>
    </thead>
    <tbody>
      {{#if Template.subscriptionsReady}}
        {{#each rewards}}
          {{> reward}}
        {{else}}
          <tr>
            <td colspan="6">{{_ "There are no rewards to display."}}</td>
          </tr>
        {{/each}}
      {{else}}
        {{> loading}}
      {{/if}}
    </tbody>
  </table>

  {{#if Template.subscriptionsReady}}
    {{> pagination}}
  {{/if}}
  {{> removeRewardModal}}
</template>

<template name="reward">
  <tr>
    <td>{{title}}&nbsp;&nbsp;&nbsp;<b class="fs-12">(x {{availableCount}})</b></td>
    <td>{{dateToLocaleString createdAt}}</td>
    <td>{{dateToLocaleString validTill}}</td>
    <td>{{claimCount}}</td>
    <td>{{> switchery checked=published rewardId=_id}}</td>
    <td>
      <div class="btn-group">
        <button type="button" class="btn btn-warning edit-reward-btn" data-original-title="{{_ 'Edit reward'}}"
          data-toggle="tooltip" data-placement="bottom">
          <i class="fa fa-pencil"></i>
        </button>
        <button type="button" class="btn btn-danger remove-reward-btn" data-original-title="{{_ 'Remove reward'}}"
          data-toggle="modal" data-target="#remove-reward-modal"
          data-tooltip-toggle="tooltip" data-placement="bottom">
          <i class="fa fa-trash"></i>
        </button>
      </div>
    </td>
  </tr>
</template>
